"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[623],{8866:function(r,n,e){var t=e(4137),a=e(184);n.Z=function(){return(0,a.jsx)("div",{className:"Loader",children:(0,a.jsx)(t.Bb,{height:"80",width:"80",radius:"9",color:"#3f51b5",ariaLabel:"three-dots-loading"})})}},2429:function(r,n,e){var t=e(7689),a=e(1087),u=e(184);n.Z=function(r){var n=r.movies,e=(0,t.TH)();return(0,u.jsx)("ul",{children:n.map((function(r){var n=r.id,t=r.title;return(0,u.jsx)("li",{children:(0,u.jsx)(a.rU,{to:"/movies/".concat(n),state:{from:e},children:t})},n)}))})}},3727:function(r,n,e){e.d(n,{Ai:function(){return d},Hx:function(){return l},Y5:function(){return p},uV:function(){return f},wr:function(){return c}});var t=e(8683),a=e(5861),u=e(7757),i=e.n(u),o=e(5294);o.Z.defaults.baseURL="https://api.themoviedb.org/3/";var s={api_key:"1ff5f9e57945bfb0ff78aaaf0ecf4ac6",language:"en-US"},c=function(){var r=(0,a.Z)(i().mark((function r(){var n,e;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.Z.get("trending/movie/week",{params:s});case 2:return n=r.sent,e=n.data,r.abrupt("return",e.results);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),p=function(){var r=(0,a.Z)(i().mark((function r(n){var e;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.Z.get("movie/".concat(n),{params:s});case 2:return e=r.sent,r.abrupt("return",e.data);case 4:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}(),f=function(){var r=(0,a.Z)(i().mark((function r(n){var e,t;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.Z.get("movie/".concat(n,"/credits"),{params:s});case 2:return e=r.sent,t=e.data,r.abrupt("return",t.cast);case 5:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}(),l=function(){var r=(0,a.Z)(i().mark((function r(n){var e,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.Z.get("movie/".concat(n,"/reviews"),{params:(0,t.Z)((0,t.Z)({},s),{},{page:1})});case 2:return e=r.sent,a=e.data,r.abrupt("return",a.results);case 5:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}(),d=function(){var r=(0,a.Z)(i().mark((function r(n){var e;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.Z.get("search/movie",{params:(0,t.Z)((0,t.Z)({},s),{},{query:n,include_adult:!0,page:1})});case 2:return e=r.sent,r.abrupt("return",e.data);case 4:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()},623:function(r,n,e){e.r(n),e.d(n,{default:function(){return q}});var t,a,u,i,o=e(5861),s=e(9439),c=e(7757),p=e.n(c),f=e(2791),l=e(1087),d=e(8866),h=e(168),v=e(7924),x=e(7462),m=v.ZP.form(t||(t=(0,h.Z)(["\n  width: 100%;\n  max-width: 450px;\n  position: relative;\n"]))),Z=v.ZP.input(a||(a=(0,h.Z)(["\n  padding: 10px;\n  border-radius: 5px;\n  border: solid 2px violet;\n  background-color: inherit;\n  outline: none;\n  width: 100%;\n  height: 17px;\n  max-width: 450px;\n  font-size: 16px;\n"]))),b=v.ZP.button(u||(u=(0,h.Z)(["\n  cursor: pointer;\n  position: absolute;\n  top: 0.5px;\n  right: -70px;\n  background-color: inherit;\n  border-radius: 5px;\n  border: solid 2px violet;\n  height: 40px;\n  width: 40px;\n"]))),w=(0,v.ZP)(x.Yfv)(i||(i=(0,h.Z)(["\n  color: violet;\n  width: 20px;\n  height: 20px;\n"]))),g=e(184),k=function(){var r=(0,l.lr)(),n=(0,s.Z)(r,2)[1];return(0,g.jsxs)(m,{onSubmit:function(r){r.preventDefault();var e=r.currentTarget.elements.query.value.trim();n(e?{query:e}:{})},children:[(0,g.jsx)(Z,{type:"text",name:"query",autoFocus:!0,autoComplete:"off"}),(0,g.jsx)(b,{type:"submit",children:(0,g.jsx)(w,{})})]})},j=e(2429),y=e(3727),q=function(){var r,n=(0,f.useState)([]),e=(0,s.Z)(n,2),t=e[0],a=e[1],u=(0,f.useState)(!1),i=(0,s.Z)(u,2),c=i[0],h=i[1],v=(0,f.useState)(null),x=(0,s.Z)(v,2),m=x[0],Z=x[1],b=(0,l.lr)(),w=null!==(r=(0,s.Z)(b,1)[0].get("query"))&&void 0!==r?r:"";return(0,f.useEffect)((function(){if(w){var r=new AbortController,n=function(){var n=(0,o.Z)(p().mark((function n(){var e,t;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.current&&r.current.abort(),r.current=new AbortController,n.prev=2,h(!0),Z(null),n.next=7,(0,y.Ai)(w,{signal:r.current.signal});case 7:e=n.sent,t=e.results,a(t),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),Z(n.t0.message);case 15:return n.prev=15,h(!1),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){r.abort()}}}),[w]),(0,g.jsxs)(g.Fragment,{children:[c&&(0,g.jsx)(d.Z,{}),m&&!c&&(0,g.jsx)("p",{children:"There are no movies for this search query."}),(0,g.jsx)(k,{}),(0,g.jsx)("h2",{children:"Movies Page"}),t&&(0,g.jsx)(j.Z,{movies:t})]})}}}]);
//# sourceMappingURL=623.6e26b21f.chunk.js.map